{"remainingRequest":"C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\src\\components\\AnnotationsPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\src\\components\\AnnotationsPage.vue","mtime":1651532759661},{"path":"C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651395581657},{"path":"C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1651395582269},{"path":"C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\node_modules\\babel-loader\\lib\\index.js","mtime":1651395584250},{"path":"C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651395581657},{"path":"C:\\Users\\roial\\Documents\\Work\\NLP\\Parashoot-Tagging\\node_modules\\vue-loader\\lib\\index.js","mtime":1651395584089}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport _JSON$stringify from \"C:\\\\Users\\\\roial\\\\Documents\\\\Work\\\\NLP\\\\Parashoot-Tagging\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.regexp.replace\";\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar uuidv4 = require('uuid/v4');\n\nexport default {\n  name: \"AnnotationsPage\",\n  props: [\"json\"],\n  data: function data() {\n    return {\n      data_number: 1,\n      context_number: 1,\n      question: \"\",\n      answer: \"\",\n      fields: [\"שאלות\", \"תשובות\", \"עריכה\", \"יש תשובה בטקסט\"],\n      query: \"\",\n      message: \"\",\n      errors: \"\",\n      textSelected: false,\n      publicPath: process.env.BASE_URL,\n      withAnswer: true\n    };\n  },\n  methods: {\n    addAnnotation: function addAnnotation() {\n      if (this.checkAnswers() == false) return;\n      var paragraph_container = this.json.data[this.data_number - 1].paragraphs[this.context_number - 1];\n      var qa = {\n        question: this.question,\n        id: uuidv4(),\n        answers: [{\n          answer_start: this.answer_start,\n          text: this.answer,\n          withAnswer: this.withAnswer\n        }]\n      };\n      paragraph_container.qas.push(qa);\n      this.question = \"\";\n      this.answer = \"\";\n      this.textSelected = false;\n      this.saveJSON();\n    },\n    deleteAnnotation: function deleteAnnotation(row_index) {\n      var paragraph_container = this.json.data[this.data_number - 1].paragraphs[this.context_number - 1];\n      paragraph_container.qas.splice(row_index, 1);\n      this.saveJSON();\n    },\n    getSelection: function getSelection(fixStr) {\n      this.answer = fixStr;\n      this.textSelected = true;\n    },\n    delete_paragraph: function delete_paragraph() {\n      var paragraph_container = this.json.data[this.data_number - 1].paragraphs;\n      paragraph_container.splice([this.context_number - 1], 1);\n    },\n    delete_empty_document: function delete_empty_document() {\n      for (var i in this.json.data) {\n        if (this.json.data[i].paragraphs.length == 0) {\n          this.json.data.splice(i, 1);\n        }\n      }\n    },\n    checkAnswers: function checkAnswers() {\n      // eslint-disable-next-line no-console\n      console.log(this);\n\n      if (this.question == \"\" || this.answer == \"\") {\n        this.errors = \"נא להכניס שאלה על הפסקה ותשובה לשאלה זו מתוך הפסקה\";\n        return false;\n      } else {\n        this.errors = \"\";\n        return true;\n      }\n    },\n    saveJSON: function saveJSON() {// this.axios.post(\"URL/upload\",\n      //     {\n      //       'json_data': JSON.stringify(this.json),\n      //       'filename': \"heb_squad-v1.1_\" + this.pad(this.json.jsonID, 3) + \"_\" + this.uuid + \"_\" + this.json.prolificID + \".json\"\n      //     }\n      // ).catch(error => {\n      //   this.errorMessage = error;\n      //   window.alert('There was an error saving the JSON file.', error);\n      // });\n    },\n    pad: function pad(num, size) {\n      while (num.length < size) {\n        num = \"0\" + num;\n      }\n\n      return num;\n    },\n    getName: function getName() {\n      // eslint-disable-next-line no-console\n      // console.log(this);\n      // this.filename \n      // return this.json.data[0].title + \" tagged\";\n      var tmpJsonID = this.json.jsonID; // delete this.json.jsonID;\n\n      return \"annotated_data_\" + tmpJsonID + \".json\";\n    }\n  },\n  computed: {\n    valid_json: function valid_json() {\n      var json = _JSON$stringify(this.json).replace(/[\\u007F-\\uFFFF]/g, function (chr) {\n        return \"\\\\u\" + (\"0000\" + chr.charCodeAt(0).toString(16)).substr(-4);\n      });\n\n      return json;\n    },\n    autocomplete: function autocomplete() {\n      var idx = [];\n\n      for (var i = 0; i < this.json.data.length; i++) {\n        idx.push(this.json.data[i].title);\n      }\n\n      return idx;\n    },\n    items: function items() {\n      var paragraph_container = this.json.data[this.data_number - 1].paragraphs[this.context_number - 1];\n      var items = [];\n\n      for (var i = 0; i < paragraph_container.qas.length; i++) {\n        var item = {\n          // fields: [\"שאלות\", \"תשובות\", \"עריכה\" , \"יש-תשובה\"]\n          שאלות: paragraph_container.qas[i].question,\n          תשובות: paragraph_container.qas[i].answers[0].text,\n          'יש תשובה בטקסט': paragraph_container.qas[i].answers[0].withAnswer\n        };\n        items.push(item);\n      }\n\n      return items;\n    },\n    paragraph_context: function paragraph_context() {\n      return this.json.data[this.data_number - 1].paragraphs[this.context_number - 1].context;\n    },\n    answer_start: function answer_start() {\n      return this.paragraph_context.indexOf(this.answer);\n    },\n    options: function options() {\n      return {\n        radius: 15,\n        circleLineCap: \"round\",\n        varyStrokeArray: [1, 2],\n        pathColors: [\"lightgrey\", \"rgb(40, 167, 69)\"],\n        text: function text(value) {\n          return this.htmlifyNumber(value) + '<span style=\"font-size: 1em;\">%</span>';\n        },\n        textColor: \"black\"\n      };\n    }\n  }\n};",{"version":3,"sources":["AnnotationsPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA,IAAA,MAAA,GAAA,OAAA,CAAA,SAAA,CAAA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,KAAA,EAAA,CAAA,MAAA,CAFA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,CADA;AAEA,MAAA,cAAA,EAAA,CAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,OAAA,EAAA,gBAAA,CALA;AAMA,MAAA,KAAA,EAAA,EANA;AAOA,MAAA,OAAA,EAAA,EAPA;AAQA,MAAA,MAAA,EAAA,EARA;AASA,MAAA,YAAA,EAAA,KATA;AAUA,MAAA,UAAA,EAAA,OAAA,CAAA,GAAA,CAAA,QAVA;AAYA,MAAA,UAAA,EAAA;AAZA,KAAA;AAcA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,aAAA,EAAA,yBAAA;AACA,UAAA,KAAA,YAAA,MAAA,KAAA,EAAA;AACA,UAAA,mBAAA,GAAA,KAAA,IAAA,CAAA,IAAA,CAAA,KAAA,WAAA,GAAA,CAAA,EAAA,UAAA,CACA,KAAA,cAAA,GAAA,CADA,CAAA;AAGA,UAAA,EAAA,GAAA;AACA,QAAA,QAAA,EAAA,KAAA,QADA;AAEA,QAAA,EAAA,EAAA,MAAA,EAFA;AAGA,QAAA,OAAA,EAAA,CAAA;AAAA,UAAA,YAAA,EAAA,KAAA,YAAA;AAAA,UAAA,IAAA,EAAA,KAAA,MAAA;AAAA,UAAA,UAAA,EAAA,KAAA;AAAA,SAAA;AAHA,OAAA;AAKA,MAAA,mBAAA,CAAA,GAAA,CAAA,IAAA,CAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,WAAA,QAAA;AACA,KAhBA;AAiBA,IAAA,gBAAA,EAAA,0BAAA,SAAA,EAAA;AACA,UAAA,mBAAA,GAAA,KAAA,IAAA,CAAA,IAAA,CAAA,KAAA,WAAA,GAAA,CAAA,EAAA,UAAA,CACA,KAAA,cAAA,GAAA,CADA,CAAA;AAGA,MAAA,mBAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA,EAAA,CAAA;AACA,WAAA,QAAA;AACA,KAvBA;AAwBA,IAAA,YAAA,EAAA,sBAAA,MAAA,EAAA;AACA,WAAA,MAAA,GAAA,MAAA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,KA3BA;AA4BA,IAAA,gBAAA,EAAA,4BAAA;AACA,UAAA,mBAAA,GAAA,KAAA,IAAA,CAAA,IAAA,CAAA,KAAA,WAAA,GAAA,CAAA,EAAA,UAAA;AACA,MAAA,mBAAA,CAAA,MAAA,CAAA,CAAA,KAAA,cAAA,GAAA,CAAA,CAAA,EAAA,CAAA;AACA,KA/BA;AAgCA,IAAA,qBAAA,EAAA,iCAAA;AACA,WAAA,IAAA,CAAA,IAAA,KAAA,IAAA,CAAA,IAAA,EAAA;AACA,YAAA,KAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,UAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA;AACA;AACA;AACA,KAtCA;AAuCA,IAAA,YAAA,EAAA,wBAAA;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,UAAA,KAAA,QAAA,IAAA,EAAA,IAAA,KAAA,MAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,GAAA,oDAAA;AACA,eAAA,KAAA;AACA,OAHA,MAIA;AACA,aAAA,MAAA,GAAA,EAAA;AACA,eAAA,IAAA;AACA;AACA,KAlDA;AAmDA,IAAA,QAAA,EAAA,oBAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7DA;AA8DA,IAAA,GAAA,EAAA,aAAA,GAAA,EAAA,IAAA,EAAA;AACA,aAAA,GAAA,CAAA,MAAA,GAAA,IAAA;AAAA,QAAA,GAAA,GAAA,MAAA,GAAA;AAAA;;AACA,aAAA,GAAA;AACA,KAjEA;AAkEA,IAAA,OAAA,EAAA,mBAAA;AACA;AACA;AACA;AACA;AACA,UAAA,SAAA,GAAA,KAAA,IAAA,CAAA,MAAA,CALA,CAMA;;AACA,aAAA,oBAAA,SAAA,GAAA,OAAA;AACA;AA1EA,GAnBA;AA+FA,EAAA,QAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,UAAA,IAAA,GAAA,gBAAA,KAAA,IAAA,EAAA,OAAA,CAAA,kBAAA,EAAA,UACA,GADA,EAEA;AACA,eAAA,QAAA,CAAA,SAAA,GAAA,CAAA,UAAA,CAAA,CAAA,EAAA,QAAA,CAAA,EAAA,CAAA,EAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AACA,OAJA,CAAA;;AAKA,aAAA,IAAA;AACA,KARA;AASA,IAAA,YAAA,EAAA,wBAAA;AACA,UAAA,GAAA,GAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,IAAA,CAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,GAAA,CAAA,IAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,KAAA;AACA;;AACA,aAAA,GAAA;AACA,KAfA;AAgBA,IAAA,KAAA,EAAA,iBAAA;AACA,UAAA,mBAAA,GAAA,KAAA,IAAA,CAAA,IAAA,CAAA,KAAA,WAAA,GAAA,CAAA,EAAA,UAAA,CACA,KAAA,cAAA,GAAA,CADA,CAAA;AAGA,UAAA,KAAA,GAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,mBAAA,CAAA,GAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,IAAA,GAAA;AACA;AACA,UAAA,KAAA,EAAA,mBAAA,CAAA,GAAA,CAAA,CAAA,EAAA,QAFA;AAGA,UAAA,MAAA,EAAA,mBAAA,CAAA,GAAA,CAAA,CAAA,EAAA,OAAA,CAAA,CAAA,EAAA,IAHA;AAIA,4BAAA,mBAAA,CAAA,GAAA,CAAA,CAAA,EAAA,OAAA,CAAA,CAAA,EAAA;AAJA,SAAA;AAMA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA;;AACA,aAAA,KAAA;AACA,KA/BA;AAgCA,IAAA,iBAAA,EAAA,6BAAA;AACA,aAAA,KAAA,IAAA,CAAA,IAAA,CAAA,KAAA,WAAA,GAAA,CAAA,EAAA,UAAA,CACA,KAAA,cAAA,GAAA,CADA,EAEA,OAFA;AAGA,KApCA;AAqCA,IAAA,YAAA,EAAA,wBAAA;AACA,aAAA,KAAA,iBAAA,CAAA,OAAA,CAAA,KAAA,MAAA,CAAA;AACA,KAvCA;AAwCA,IAAA,OAxCA,qBAwCA;AACA,aAAA;AACA,QAAA,MAAA,EAAA,EADA;AAEA,QAAA,aAAA,EAAA,OAFA;AAGA,QAAA,eAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAHA;AAIA,QAAA,UAAA,EAAA,CAAA,WAAA,EAAA,kBAAA,CAJA;AAKA,QAAA,IAAA,EAAA,cAAA,KAAA,EAAA;AACA,iBACA,KAAA,aAAA,CAAA,KAAA,IAAA,wCADA;AAGA,SATA;AAUA,QAAA,SAAA,EAAA;AAVA,OAAA;AAYA;AArDA;AA/FA,CAAA","sourcesContent":["<template>\r\n  <div class=\"AnnotationsPage container mt-3\">\r\n    <div>\r\n      <b-navbar sticky toggleable=\"lg\" class=\"pl-0\">\r\n        <b-navbar-brand>cdQA-annotator - Welcome User Number {{this.json.prolificID}}</b-navbar-brand>\r\n\r\n        <b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\r\n\r\n        <b-collapse id=\"nav-collapse\" is-nav>\r\n          <!-- Right aligned nav items -->\r\n          <b-navbar-nav class=\"ml-auto\">\r\n            <b-nav-item>\r\n              <svg-progress-bar :value=\"data_number / json.data.length * 100\" :options=\"options\"></svg-progress-bar>\r\n            </b-nav-item>\r\n            <b-nav-form>\r\n              <!-- <vue-bootstrap-typeahead\r\n                size=\"sm\"\r\n                v-model=\"query\"\r\n                :data=\"autocomplete\"\r\n                placeholder=\"Search a document...\"\r\n                @hit=\"data_number = autocomplete.indexOf($event) + 1; context_number = 1\"\r\n              /> -->\r\n            </b-nav-form>\r\n              <!-- <p>Message is: {{ message }}</p> -->\r\n            <b-nav-item right>\r\n              <b-button\r\n                :size=\"'sm'\"\r\n                :variant=\"'primary'\"\r\n                v-on:click=\"delete_empty_document()\"\r\n                v-download-data=\"valid_json\"\r\n                v-download-data:type=\"'json'\"\r\n                v-download-data:filename=\"getName()\"\r\n              >Download</b-button>\r\n            </b-nav-item>\r\n          </b-navbar-nav>\r\n        </b-collapse>\r\n      </b-navbar>\r\n    </div>       \r\n    <br>\r\n    <div v-if=\"data_number - 1 < json.data.length\">\r\n      <h2>{{ json.data[data_number - 1].title }}</h2>\r\n      <span\r\n        class=\"text-muted\" dir=\"rtl\" \r\n      >פסקה {{ context_number }} מתוך {{ json.data[data_number - 1].paragraphs.length }} | מסמך {{ data_number }} מתוך {{ json.data.length }}</span>\r\n      <br>\r\n      <br>\r\n      <p ref=\"paragraph\" v-selection.fix=\"{getSelection:getSelection}\" dir=\"rtl\">{{ paragraph_context }}</p>\r\n      <br>\r\n\r\n      <b-form-input v-model=\"question\" type=\"text\" placeholder=\"הקלידו שאלה לגבי הטקסט...\" dir=\"rtl\"></b-form-input>\r\n      <br>\r\n\r\n      <b-form-input v-model=\"answer\" type=\"text\" placeholder=\"סמנו תשובה מתוך הפסקה - היא תופיע פה\" dir=\"rtl\"></b-form-input>\r\n      <br>\r\n\r\n      <div class=\"demo\">\r\n        <div>סוג שאלה:</div>\r\n        <input type=\"radio\" id=\"one\" value=true v-model=\"withAnswer\" />\r\n        <label for=\"one\">שאלה עם תשובה בטקסט</label>\r\n        <br>\r\n        <input type=\"radio\" id=\"two\" value=false v-model=\"withAnswer\"/>\r\n        <label for=\"two\">שאלה שאין לה תשובה בטקסט</label>\r\n        <br>\r\n        <br>\r\n      </div>\r\n      <b-button :size=\"''\" :variant=\"'secondary'\" v-on:click=\"addAnnotation()\">הוספת שאלה ותשובה</b-button> \r\n      <br>\r\n      <br>\r\n      <p style=\"color:red;\">{{ errors }}</p>\r\n      <br>\r\n      <br>\r\n\r\n      <b-table striped hover :items=\"items\" :fields=\"fields\">\r\n        <template slot=\"עריכה\" slot-scope=\"row\">\r\n          <b-button :size=\"''\" :variant=\"'danger'\" @click.stop=\"deleteAnnotation(row.index)\">Delete</b-button>\r\n        </template>\r\n      </b-table>\r\n      <br>\r\n\r\n      <div v-if=\"data_number > 1 && context_number == 1\">\r\n        <b-button\r\n          :size=\"''\"\r\n          :variant=\"'outline-secondary'\"\r\n          v-on:click=\"data_number -= 1, context_number = json.data[data_number - 1].paragraphs.length\"\r\n        >לפסקה הקודמת</b-button> או \r\n        <b-button :size=\"''\" :variant=\"'outline-primary'\" v-on:click=\"context_number += 1\">לפסקה הבאה</b-button>\r\n      </div>\r\n      <div v-else-if=\"context_number < json.data[data_number - 1].paragraphs.length\">\r\n        <b-button\r\n          :size=\"''\"\r\n          :variant=\"'outline-secondary'\"\r\n          v-on:click=\"context_number -= 1\"\r\n        >לפסקה הקודמת</b-button> או \r\n        <b-button :size=\"''\" :variant=\"'outline-primary'\" v-on:click=\"context_number += 1\">לפסקה הבאה</b-button>\r\n      </div>\r\n      <div v-else>\r\n        <b-button\r\n          :size=\"''\"\r\n          :variant=\"'outline-secondary'\"\r\n          v-on:click=\"context_number -= 1\"\r\n        >לפסקה הקודמת</b-button> או \r\n        <b-button\r\n          :size=\"''\"\r\n          :variant=\"'outline-primary'\"\r\n          v-on:click=\"data_number += 1, context_number = 1\"\r\n        >לפסקה הבאה</b-button>\r\n      </div>\r\n      <br>\r\n      <br>\r\n    </div>\r\n    <div v-else>\r\n     תיוג מסמך הסתיים בהצלחה\r\n     <br>\r\n      <b-button\r\n          :size=\"''\"\r\n          :variant=\"'primary'\"\r\n          href=\"prolific.co\"\r\n      >סיום תיוג\r\n      </b-button>\r\n      <br>\r\n      <br>\r\n      <b-button\r\n          :size=\"''\"\r\n          :variant=\"'primary'\"\r\n          v-on:click=\"getRandomFile()\"\r\n      >תנו לי עוד אחד\r\n      </b-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nconst uuidv4 = require('uuid/v4');\r\n\r\nexport default {\r\n  name: \"AnnotationsPage\",\r\n  props: [\"json\" ],\r\n  data: function() {\r\n    return {\r\n      data_number: 1,\r\n      context_number: 1,\r\n      question: \"\",\r\n      answer: \"\",\r\n      fields: [\"שאלות\", \"תשובות\", \"עריכה\" , \"יש תשובה בטקסט\"],\r\n      query: \"\",\r\n      message: \"\",\r\n      errors: \"\",\r\n      textSelected: false,\r\n      publicPath: process.env.BASE_URL,\r\n\r\n      withAnswer:true\r\n    };\r\n  },\r\n  methods: {\r\n    addAnnotation: function() {\r\n      if(this.checkAnswers() == false) return\r\n      var paragraph_container = this.json.data[this.data_number - 1].paragraphs[\r\n        this.context_number - 1\r\n      ];\r\n      var qa = {\r\n        question: this.question,\r\n        id: uuidv4(),\r\n        answers: [{ answer_start: this.answer_start, text: this.answer ,withAnswer:this.withAnswer }]\r\n      };\r\n      paragraph_container.qas.push(qa);\r\n      this.question = \"\";\r\n      this.answer = \"\";\r\n      this.textSelected = false;\r\n      this.saveJSON()\r\n    },\r\n    deleteAnnotation: function(row_index) {\r\n      var paragraph_container = this.json.data[this.data_number - 1].paragraphs[\r\n        this.context_number - 1\r\n      ];\r\n      paragraph_container.qas.splice(row_index, 1);\r\n      this.saveJSON()\r\n    },\r\n    getSelection: function(fixStr) {\r\n      this.answer = fixStr;\r\n      this.textSelected = true;\r\n    },\r\n    delete_paragraph: function() {\r\n      var paragraph_container = this.json.data[this.data_number - 1].paragraphs;\r\n      paragraph_container.splice([this.context_number - 1], 1);\r\n    },\r\n    delete_empty_document: function() {\r\n      for (var i in this.json.data) {\r\n        if (this.json.data[i].paragraphs.length == 0) {\r\n          this.json.data.splice(i, 1);\r\n        }\r\n      }\r\n    },\r\n    checkAnswers: function(){\r\n      // eslint-disable-next-line no-console\r\n      console.log(this)\r\n      if(this.question == \"\" || this.answer ==\"\"){\r\n        this.errors = \"נא להכניס שאלה על הפסקה ותשובה לשאלה זו מתוך הפסקה\";\r\n        return false;\r\n      }\r\n      else{\r\n          this.errors = \"\";\r\n          return true;\r\n      }\r\n    },\r\n    saveJSON: function () {\r\n      // this.axios.post(\"URL/upload\",\r\n      //     {\r\n      //       'json_data': JSON.stringify(this.json),\r\n      //       'filename': \"heb_squad-v1.1_\" + this.pad(this.json.jsonID, 3) + \"_\" + this.uuid + \"_\" + this.json.prolificID + \".json\"\r\n      //     }\r\n      // ).catch(error => {\r\n      //   this.errorMessage = error;\r\n      //   window.alert('There was an error saving the JSON file.', error);\r\n      // });\r\n    },\r\n    pad: function (num, size) {\r\n      while (num.length < size) num = \"0\" + num;\r\n      return num;\r\n    },\r\n    getName: function(){\r\n      // eslint-disable-next-line no-console\r\n      // console.log(this);\r\n      // this.filename \r\n      // return this.json.data[0].title + \" tagged\";\r\n      let tmpJsonID = this.json.jsonID;\r\n      // delete this.json.jsonID;\r\n      return \"annotated_data_\" + tmpJsonID + \".json\";\r\n    }\r\n  },\r\n  computed: {\r\n    valid_json: function() {\r\n      var json = JSON.stringify(this.json).replace(/[\\u007F-\\uFFFF]/g, function(\r\n        chr\r\n      ) {\r\n        return \"\\\\u\" + (\"0000\" + chr.charCodeAt(0).toString(16)).substr(-4);\r\n      });\r\n      return json;\r\n    },\r\n    autocomplete: function() {\r\n      var idx = [];\r\n      for (var i = 0; i < this.json.data.length; i++) {\r\n        idx.push(this.json.data[i].title);\r\n      }\r\n      return idx;\r\n    },\r\n    items: function() {\r\n      var paragraph_container = this.json.data[this.data_number - 1].paragraphs[\r\n        this.context_number - 1\r\n      ];\r\n      var items = [];\r\n      for (var i = 0; i < paragraph_container.qas.length; i++) {\r\n        var item = {\r\n          // fields: [\"שאלות\", \"תשובות\", \"עריכה\" , \"יש-תשובה\"]\r\n          שאלות: paragraph_container.qas[i].question,\r\n          תשובות: paragraph_container.qas[i].answers[0].text,\r\n          'יש תשובה בטקסט': paragraph_container.qas[i].answers[0].withAnswer\r\n        };\r\n        items.push(item);\r\n      }\r\n      return items;\r\n    },\r\n    paragraph_context: function() {\r\n      return this.json.data[this.data_number - 1].paragraphs[\r\n        this.context_number - 1\r\n      ].context;\r\n    },\r\n    answer_start: function() {\r\n      return this.paragraph_context.indexOf(this.answer);\r\n    },\r\n    options() {\r\n      return {\r\n        radius: 15,\r\n        circleLineCap: \"round\",\r\n        varyStrokeArray: [1, 2],\r\n        pathColors: [\"lightgrey\", \"rgb(40, 167, 69)\"],\r\n        text: function(value) {\r\n          return (\r\n            this.htmlifyNumber(value) + '<span style=\"font-size: 1em;\">%</span>'\r\n          );\r\n        },\r\n        textColor: \"black\"\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>\r\n\r\n\r\n"],"sourceRoot":"src/components"}]}